{"google":"","name":"Persist.db","tagline":"A DSL for file-persistent storage of Ruby Objects in a NoSQL database.","body":"# Persist.db\r\n\r\nPersist.db implements a DSL around Ruby Standard Library's PStore to facilitate simple file-persistant storage of Ruby objects in a transactional NoSQL database.\r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'persist'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself:\r\n\r\n    $ gem install persist\r\n\r\n## Usage\r\n\r\nExample in Pry (or IRB if you must):\r\n\r\n```ruby\r\nrequire 'persist'\r\n  #=> true\r\n\r\nPersist.pull\r\n # => #<PStore:0x007f8c199c9698\r\n   @abort=false,\r\n   @filename=\".db.pstore\",\r\n   @lock=#<Mutex:0x007f8c199c9580>,\r\n   @rdonly=true,\r\n   @table={},\r\n   @thread_safe=true,\r\n   @ultra_safe=true>\r\n  \r\nPersist[:pie] = ['Key Lime', 'Strawberry Rhubarb', 'Blackberry Cobbler']\r\n  # => [\"Key Lime\", \"Strawberry Rhubarb\", \"Blackberry Cobbler\"]\r\n\r\nPersist[:ice_cream] = ['chocolate', 'vanilla']\r\n  # => [\"chocolate\", \"vanilla\"]\r\n```\r\n\r\nYou can now exit Pry/IRB and your store will persist!\r\n\r\n```ruby\r\nrequire 'persist'\r\n  #=> true\r\n  \r\nPersist.pull\r\n  #=> #<PStore:0x007f8c199c9698 ... >\r\n  \r\nPersist[:pie]\r\n  #=> [\"Key Lime\", \"Strawberry Rhubarb\", \"Blackberry Cobbler\"]\r\n```\r\n\r\n## Transactions\r\n\r\nTransactions succeed or fail together to ensure that data is not left in a transitory state:\r\n\r\n```ruby\r\nPersist.transaction do |db|\r\n  db[:cake] = 'pie is better!'\r\n  db.delete :pie\r\nend\r\n```\r\n\r\n## Helper Methods\r\n\r\nEach of Persist.db's tables is stored as a key:\r\n\r\n```ruby\r\nPersist.keys\r\n  #=> [:pie, :ice_cream]\r\n\r\nPersist.key? :pie\r\n  #=> true\r\n\r\nPersist.key? :cake\r\n  #=> false\r\n```\r\n\r\nTables can be clobbered:\r\n\r\n```ruby\r\nPersist.delete :pie\r\n  #=> nil\r\n```\r\n\r\nTo check the location of your persistent store file:\r\n\r\n```ruby\r\nPersist.path\r\n  #=> \".db.pstore\"\r\n```\r\n\r\n[Additional documentation](https://github.com/Havenwood/persist/blob/master/lib/persist/persist.rb) in the code.\r\n\r\n## Supported Platforms\r\n\r\nPersist.db makes use of PStore's ultra_safe attribute, which requires:\r\n\r\n1. Ruby 1.9 (tested on `ruby-1.9.3` and `rbx --1.9` thus far)\r\n2. A POSIX platform (such as OS X, GNU/Linux or FreeBSD)\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Commit changes (`git commit -am 'did something'`)\r\n3. Submit a Pull Request\r\n4. :cake:","note":"Don't delete this file! It's used internally to help with page regeneration."}